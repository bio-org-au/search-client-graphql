<h1>Taxonomy Search</h1>

<%= render partial: 'search_form' %>
<%= link_to('clear', taxonomy_search_path,title: 'Clear any search and start a new taxonomy search') %> |
<%#= link_to('advanced', names_advanced_search_path(link_params: params),title: 'Go to advanced search') %> 
<%= link_to('name', names_search_path(link_params: params),title: 'Go to name search') %>
<hr>

<div id="search-results">
<% if @search_term.present? %>
  <% unless @taxa.present? %>
  No results for "<%= @search_term %>"
  <% elapsed = Time.now - @start_time %>(<%= elapsed.round(2) %>s)
  <% end %>
<% end %>

<% if @taxa.present? %>
  <h2>
  <%= pluralize(@taxa.size,'taxon') %>
  found for "<%= @search_term %>"
  <% elapsed = Time.now - @start_time %>(<%= elapsed.round(2) %>s)
  </h2>

  <hr>
  <% if @show_details %>
    <%= render partial: 'detail' %>
  <% else %>
    <%= render partial: 'list' %>
  <% end %>

  <hr>
  <% elapsed = Time.now - @start_time %>
  <%= elapsed.round(2) %> seconds (~<%= (@search.data.taxonomy_search.taxa.size/elapsed).round %> records/second) (index.html)
  <br/>
  <%= Time.now %>
<% end %>
</div>
