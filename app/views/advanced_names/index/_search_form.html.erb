<div id="form-div">
<%= form_tag(names_advanced_search_path, method: :get) %>
<br>
Name:
<input name='q' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['q'] %>" autofocus="true"
       title="Enter a name or the leading part of a name or part of a name to restrict the search. Wildcards are supported.">
<br>
Author:
<input name='author_abbrev' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['author_abbrev'] %>"
       title="Enter a search term to restrict the name authority.  Wildcards are supported.">
<br>
Family:
<input name='family' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['family'] %>"
       title="Enter a search term to restrict the family. Wildcards are supported.">
<br>
Genus:
<input name='genus' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['genus'] %>"
       title="Enter a search term to restrict the genus. Wildcards are supported.">
<br>
Species:
<input name='species' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['species'] %>"
       title="Enter a search term to restrict the non-genus component of species names. Wildcards are supported.">
<br>
Element:
<input name='name_element' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['name_element'] %>"
       title="Enter a search term to restrict the unique name component for a name in any rank.  Wildcards are supported.">
<br>
Rank: <%= select_tag(:rank, options_for_select(@rank_options, params['rank']), name: 'rank', class: "form-field width40pc min-width10em max-width30em", include_blank: true, value: "#{params['rank']}", title:"Enter a rank abbreviation for the search.") %>
<br>
Only: <select name="name_type" title="The type of names to retrieve" class="form-field">
        <%= options_for_select(
          [['Scientific names', 'scientific', {title: "Scientific names only"}],
           ['Cultivar names', 'cultivar', {title: "Cultivar names only"}],
           ['Scientific and cultivar names', 'scientific-or-cultivar', {title: "Scientific and cultivar names only"}],
           ['Common names', 'common', {title: "Common names only"}],
           ['All names', 'all', {title: "All names - scientific, cultivar and common"}]],
          params[:name_type]) %>
    </select>

<br>
<hr>
Publication:
<input id='publication' name='publication' type="search"
       class="typeahead form-field width40pc min-width10em max-width30em"
       value="<%= params['publication'] %>"
       title="Enter a publication citation for the search.  Wildcards are supported.">
<br>

<%= check_box_tag(:protologue, '1', params['protologue']) %>
<%= label_tag(:protologue,
              "Publication(s) must contain the protologue",
              title: "When checked, this field checks for publications only when they contain the name protologue.") %>
<br>
<script> setUpPublicationTA(); </script>
<hr>
<%= render partial: "advanced_names/index/widgets" %>
<hr>

<input type="submit"
       value="Search"
       name="search"
       class="left-aligned-form-button"
       title="Search the data and retrieve matching records">

<input type="submit"
       value="Count"
       name="count"
       class="left-aligned-form-button"
       title="Just count the matching records">
</form>
</div>


