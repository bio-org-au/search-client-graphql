<div id="form-div">
<%= form_tag(names_advanced_search_path, method: :get) %>
<!--<br>
Name:
<input name='q' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['q'] %>" autofocus="true"
       title="Enter a name or the leading part of a name or part of a name to restrict the search. Wildcards are supported.">
-->
<table class="for-search-form width80pc">
  <tr>
    <td class="label width10pc">
Family:
    </td>
    <td class="width80pc">
<input name='family' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['family'] %>"
       autofocus="true"
       title="Enter a search term to restrict the family. Wildcards are supported.">
    </td>
  </tr>
  <tr>
    <td class="label">
Genus:
    </td>
    <td>
<input name='genus' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['genus'] %>"
       title="Enter a search term to restrict the genus. Wildcards are supported.">
    </td>
  </tr>
  <tr>
    <td class="label">
      Species/Infraspecies:
    </td>
    <td>
<input name='species' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['species'] %>"
       title="Enter a search term to restrict the non-genus component of taxon names. Wildcards are supported.">
    </td>
  </tr>
  <tr> <td colspan="2"> <hr> </td> </tr>
  <tr>
    <td class="label">
Taxon Name Author:
    </td>
    <td>
<input name='taxon_name_author_abbrev' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['taxon_name_author_abbrev'] %>"
       title="Enter a search term to restrict the taxon name authority. Covers author and ex-author.">
    </td>
  </tr>
  <tr>
    <td class="label">
Basionym Author:
    </td>
    <td>
<input name='basionym_author_abbrev' type="search"
       class="form-field width40pc min-width10em max-width30em"
       value="<%= params['basionym_author_abbrev'] %>"
       title="Enter a search term to restrict the taxon name authority. Covers basionym-author and ex-basionym-author.">
    </td>
  </tr>
  <tr> <td colspan="2"> <hr> </td> </tr>
  <tr>
    <td class="label">
      Rank:
    </td>
    <td>
      <%= select_tag(:rank, options_for_select(@rank_options, params['rank']), name: 'rank', class: "form-field width40pc min-width10em max-width30em", include_blank: true, value: "#{params['rank']}", title:"Enter a rank abbreviation for the search.") %>

    </td>
  </tr>
  <tr> <td colspan="2"> <hr> </td> </tr>
  <tr>
    <td class="label">
Publication:
    </td>
    <td>
<input id='publication' name='publication' type="search"
       class="typeahead form-field width40pc min-width10em max-width30em"
       value="<%= params['publication'] %>"
       title="Enter a publication keywords for the search. No wildcards."
       autocomplete="off" >
    </td>
  </tr>
  <tr>
    <td class="label">
<%= label_tag(:protologue,
              "Protologue:",
              title: "When checked, this field checks for publications only when they contain the name protologue.") %>
    </td>
    <td>
<%= check_box_tag(:protologue, '1', params['protologue'], title: "When checked, this field checks for publications only when they contain the name protologue.") %>
    </td>
  </tr>
</table>
<hr>
Only: <select name="name_type" title="The type of names to retrieve" class="form-field">
        <%= options_for_select(
          [['Scientific names', 'scientific', {title: "Scientific names only"}],
           ['Cultivar names', 'cultivar', {title: "Cultivar names only"}],
           ['Scientific and cultivar names', 'scientific-or-cultivar', {title: "Scientific and cultivar names only"}],
           ['Common names', 'common', {title: "Common names only"}],
           ['All names', 'all', {title: "All names - scientific, cultivar and common"}]],
          params[:name_type]) %>
    </select>

<br>
<script> setUpPublicationTA(); </script>
<hr>
<%= render partial: "advanced_names/index/widgets" %>
<hr>

<input type="submit"
       value="Search"
       name="search"
       class="left-aligned-form-button"
       title="Search the data and retrieve matching records">

<input type="submit"
       value="Count"
       name="count"
       class="left-aligned-form-button"
       title="Just count the matching records">
</form>
</div>


